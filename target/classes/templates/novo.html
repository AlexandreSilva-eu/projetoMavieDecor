<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cadastro - Mavie Decor</title>
    <link rel="stylesheet" th:href="@{/css/mavie.css}" />
</head>
<body>
<header>
    <img th:src="@{/img/logo-mavie.jpeg}" alt="Mavie Decor Logo" />
</header>

<div class="container">
    <h2>Cadastro de Cliente</h2>

    <div th:if="${mensagem}">
        <p th:text="${mensagem}" th:classappend="${tipo == 'sucesso'} ? ' mensagem-sucesso' : ' mensagem-erro'"></p>
    </div>

    <form th:action="@{/clientes/salvar}" th:object="${cliente}" method="post">
        <!-- CSRF token (apenas se estiver usando Spring Security) -->
        <input type="hidden" th:if="${_csrf != null}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        <div>
            <label for="nome">Nome</label>
            <input id="nome" type="text" th:field="*{nome}" />
            <div class="error" th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></div>
        </div>

        <div>
            <label for="email">Email</label>
            <input id="email" type="email" th:field="*{email}" />
            <div class="error" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
        </div>

        <div>
            <label for="telefone">Telefone</label>
            <input id="telefone" type="text" th:field="*{telefone}" />
            <div class="error" th:if="${#fields.hasErrors('telefone')}" th:errors="*{telefone}"></div>
        </div>

        <div>
            <label for="senha">Senha</label>
            <input id="senha" type="password" th:field="*{senha}" />
            <div class="error" th:if="${#fields.hasErrors('senha')}" th:errors="*{senha}"></div>
        </div>

        <div class="actions">
            <button type="submit" class="btn">Cadastrar</button>
            <a class="btn" th:href="@{/}">Voltar</a>
        </div>
    </form>
</div>
</body>
</html>
